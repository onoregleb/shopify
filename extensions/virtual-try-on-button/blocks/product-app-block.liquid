{% schema %}
{
  "name": "Virtual Try-On Button",
  "target": "section",
  "javascript": "vton-product-button.js",
  "stylesheet": "vton-button.css",
  "settings": [
    {
      "type": "select",
      "id": "button_position",
      "label": "Button Position",
      "options": [
        {
          "value": "above-buy-buttons",
          "label": "Above Buy Buttons"
        },
        {
          "value": "below-buy-buttons",
          "label": "Below Buy Buttons"
        }
      ],
      "default": "below-buy-buttons"
    },
    {
      "type": "text",
      "id": "button_text",
      "label": "Button Text",
      "default": "Try On Virtually"
    },
    {
      "type": "checkbox",
      "id": "use_theme_color",
      "label": "Match store theme color",
      "default": true,
      "info": "Automatically uses your store's accent color"
    },
    {
      "type": "color",
      "id": "button_color",
      "label": "Custom Button Color",
      "default": "#008060"
    },
    {
      "type": "color",
      "id": "text_color",
      "label": "Text Color",
      "default": "#FFFFFF"
    }
  ],
  "enabled_on": {
    "templates": ["product"]
  }
}
{% endschema %}

{%- comment -%}Expose settings for JS via data-attributes{%- endcomment -%}
<div class="vton-settings" style="display:none"
     data-button-position="{{ block.settings.button_position }}"
     data-button-text="{{ block.settings.button_text }}"
     data-use-theme-color="{{ block.settings.use_theme_color }}"
     data-button-color="{{ block.settings.button_color }}"
     data-text-color="{{ block.settings.text_color }}">
</div>

<script src="{{ 'vton-product-button.js' | asset_url }}" defer></script>